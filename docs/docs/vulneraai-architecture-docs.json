{
  "siteTitle": "Архитектура VulneraAI",
  "pages": [
    {
      "id": "architecture-overview",
      "title": "Обзор архитектуры",
      "order": 100,
      "content": "# Полный Обзор Архитектуры VulneraAI\n\nVulneraAI - комплексная платформа для автоматизированного тестирования безопасности. Система разработана с использованием лучших практик микросервисной архитектуры, обеспечивая масштабируемость, надёжность, безопасность и высокую производительность на уровне Enterprise.\n\n## Стратегические цели\n\n- Масштабируемость: горизонтальное масштабирование всех компонентов\n- Надёжность: Высокая доступность, отказоустойчивость, автоматическое восстановление\n- Безопасность: шифрование, аутентификация, RBAC на всех уровнях\n- Модульность: независимые компоненты, легко расширяется\n- Наблюдаемость: полная диагностика через логи, метрики, трейсинг\n\n## Основные компоненты\n\n### Client Layer\n- VulneraAI CLI (command-line интерфейс)\n- Web UI Dashboard (веб-интерфейс)\n- API SDK (Python, JavaScript, Go)\n\n### API Gateway\n- HTTP/HTTPS сервер\n- Маршрутизация запросов\n- Аутентификация и авторизация\n- Rate limiting и защита от DDoS\n- CORS и security headers\n\n### Backend Services\n- Pentest Service (управление жизненным циклом)\n- Vulnerability Service (анализ уязвимостей)\n- Report Service (генерирование отчётов)\n- Webhook Service (интеграция с external системами)\n- Analytics Service (сбор метрик)\n- Auth Service (аутентификация)\n\n### Task Orchestration\n- Task Queue (распределённая очередь)\n- Task Scheduler (планировщик)\n- Agent Manager (управление агентами)\n- Load Balancer (балансировка нагрузки)\n\n### Scanning Agents\n- Distributed agents (в разных сетях)\n- Local scanning (локальные сети)\n- Health monitoring (автовосстановление)\n\n### AI Engine\n- ML Models (обнаружение уязвимостей)\n- Vulnerability Classification (классификация)\n- Risk Assessment (оценка риска)\n- Correlation Engine (связывание данных)\n- Predictive Analytics (прогнозы)\n\n### Data Layer\n- MySQL/PostgreSQL (основные данные)\n- Redis (кэширование)\n- Elasticsearch (полнотекстовый поиск)\n- InfluxDB (временные ряды)\n- S3/MinIO (object storage)\n\n## Архитектурные слои\n\n```\nPresentation Layer (CLI, Web UI)\n         ↓\nAPI Gateway (Auth, Rate Limit, CORS)\n         ↓\nBusiness Logic Layer (Services)\n         ↓\nTask Orchestration (Queue, Scheduler)\n         ↓\nScanning Agents\n         ↓\nAI Engine\n         ↓\nData Layer (MySQL, Redis, ES)\n         ↓\nInfrastructure (K8s, Monitoring)\n```\n\n## Безопасность\n\n- TLS/SSL 1.2+ для всей коммуникации\n- JWT токены с refresh mechanism\n- API ключи для долгосрочных интеграций\n- RBAC (Role-Based Access Control)\n- Audit logs для всех действий\n- Encryption at rest и in transit\n- Secrets management (Vault)\n- DDoS protection и WAF\n\n## Performance & Scalability\n\n- Horizontal scaling (добавить новые pods)\n- Vertical scaling (увеличить ресурсы)\n- Auto-scaling: HPA масштабирует на основе метрик\n- Load balancing между экземплярами\n- Redis caching для часто используемых данных\n- Database optimization (индексы, партиционирование)\n- Query optimization и connection pooling"
    },
    {
      "id": "system-architecture",
      "title": "Архитектура системы",
      "order": 101,
      "content": "# Детальная архитектура системы VulneraAI\n\nУглубленное описание архитектурных слоёв, компонентов и их взаимодействия.\n\n## Слоистая архитектура (Layered Architecture)\n\nСистема использует классическую многоуровневую архитектуру с чётким разделением ответственности. Каждый слой имеет специфические функции и взаимодействует с другими слоями через определённые интерфейсы.\n\n### 1. Presentation Layer\n- Web UI Dashboard (React/Vue.js)\n- CLI Commands (argparse)\n- Mobile App (iOS/Android, опционально)\n\n### 2. API Gateway Layer\n- HTTP/HTTPS сервер (FastAPI/Django)\n- Request routing и validation\n- Authentication & Authorization middleware\n- Rate limiting\n- CORS & Security headers\n\n### 3. Business Logic Layer\n- PentestService: управление жизненным циклом пентестов\n- VulnerabilityService: анализ и классификация уязвимостей\n- ReportService: генерирование отчётов в разных форматах\n- WebhookService: отправка событий в external системы\n- AuthService: аутентификация и управление доступом\n- AnalyticsService: сбор и анализ метрик\n\n### 4. Data Access Layer (Repositories)\n- PentestRepository: доступ к данным пентестов\n- VulnerabilityRepository: доступ к уязвимостям\n- UserRepository: управление пользователями\n- WebhookRepository: управление вебхуками\n- ReportRepository: управление отчётами\n\n### 5. Infrastructure Layer\n- MySQL/PostgreSQL (основная БД)\n- Redis (кэширование)\n- Elasticsearch (поиск)\n- Message Queue (RabbitMQ/Kafka)\n- Object Storage (S3/MinIO)\n\n## Компоненты на каждом слое\n\n### API Gateway компоненты\n- HTTP Server: FastAPI с async поддержкой\n- Request Validation: JSON Schema валидация\n- Authentication Middleware: JWT, API ключи, OAuth\n- Rate Limiting: per-user, per-endpoint, per-ip лимиты\n- CORS Middleware: управление cross-origin запросами\n- Error Handling: стандартизованная обработка ошибок\n\n### Business Logic компоненты\n- PentestManager: CRUD операции, status tracking\n- VulnerabilityProcessor: CVSS calculation, classification\n- ReportGenerator: PDF, HTML, JSON export\n- WebhookDispatcher: reliable delivery с retry logic\n- TaskCoordinator: распределение работы между агентами\n\n### Repository компоненты\n- Query builder для сложных запросов\n- Connection pooling для оптимизации\n- Caching integration (Redis)\n- Batch operations для bulk inserts/updates\n- Transaction management для ACID\n\n## Микросервисная архитектура\n\n### Разделение на сервисы\n\nСистема может быть развёрнута как:\n\n1. **Monolith** (один процесс)\n   - Все компоненты в одном приложении\n   - Простое развёртывание\n   - Сложнее масштабировать\n\n2. **Microservices** (отдельные сервисы)\n   - Pentest Service (порт 8001)\n   - Vulnerability Service (порт 8002)\n   - Report Service (порт 8003)\n   - Webhook Service (порт 8004)\n   - Analytics Service (порт 8005)\n   - Auth Service (порт 8006)\n\n### Communication между сервисами\n- **Sync**: gRPC для быстрой коммуникации\n- **Async**: Message Queue для event-driven\n- **Service Discovery**: Consul/Eureka для поиска сервисов\n- **API Gateway**: единая точка входа\n\n## Communication Patterns\n\n### 1. Request-Response (синхронная)\n```\nClient HTTP Request\n  ↓\nAPI Gateway\n  ↓\nService Handler\n  ↓\nDatabase Query / Cache\n  ↓\nFormat Response\n  ↓\nClient Receives Response\n```\n\n### 2. Pub-Sub (асинхронная)\n```\nPublisher (PentestService)\n  ↓\nPublish Event to Queue\n  ↓\nMessage Queue (RabbitMQ/Kafka)\n  ↓\nMultiple Subscribers:\n├─ TaskDispatcher (отправить агентам)\n├─ AnalyticsService (собрать метрики)\n├─ NotificationService (уведомить)\n└─ WebhookService (отправить external)\n```\n\n### 3. Stream Processing\n```\nAgent sends data stream\n  ↓\nStream Processor\n  ↓\nReal-time analysis\n  ↓\nUpdate dashboard (WebSocket)\n  ↓\nStore in time-series DB\n```\n\n## Data Flow (Жизненный цикл пентеста)\n\n1. **CREATE**: Пользователь создаёт пентест\n   - Валидация параметров\n   - Создание записи в БД\n   - Публикация события в queue\n\n2. **DISPATCH**: Распределение агентам\n   - TaskDispatcher получает событие\n   - Выбирает лучшего агента\n   - Отправляет задачу в queue\n\n3. **EXECUTE**: Агент выполняет сканирование\n   - Получает задачу из queue\n   - Запускает сканирование\n   - Отправляет результаты в реальном времени\n\n4. **PROCESS**: Обработка результатов\n   - VulnerabilityService анализирует\n   - Вычисляет CVSS scores\n   - Связывает однотипные уязвимости\n\n5. **COMPLETE**: Завершение пентеста\n   - Генерирование отчёта\n   - Отправка вебхуков\n   - Обновление статуса\n\n## Performance Optimization\n\n### Database\n- Индексирование часто используемых полей\n- Partitioning для больших таблиц\n- Replication для read scaling\n- Query optimization (EXPLAIN ANALYZE)\n\n### Caching\n- Redis для кэширования часто используемых данных\n- ETag для HTTP caching\n- CDN для static assets\n- Browser caching\n\n### API\n- Pagination для больших результатов\n- Response compression (gzip)\n- Batch operations\n- Async processing для long-running tasks\n\n### Architecture\n- Connection pooling\n- Async/await для non-blocking I/O\n- Circuit breaker для resilience\n- Bulkhead isolation для fault tolerance"
    },
    {
      "id": "client-architecture",
      "title": "Архитектура клиента",
      "order": 102,
      "content": "# Архитектура VulneraAI Client\n\nCLI приложение для взаимодействия с VulneraAI Server через command-line интерфейс.\n\n## Архитектурные слои клиента\n\n### 1. CLI Command Layer\n- argparse для парсинга команд\n- Command routing\n- Help текст и completion\n\n### 2. Command Handler Layer\n- ParsedCommand -> Action mapping\n- Input validation\n- Output formatting\n\n### 3. Business Logic Layer (Managers)\n- PentestManager: управление пентестами\n- ResultManager: получение результатов\n- AuthManager: аутентификация\n- ConfigManager: конфигурация\n- CacheManager: локальный кэш\n\n### 4. API Client Layer\n- HTTP requests с retry logic\n- Error handling\n- Response parsing\n\n### 5. Local Storage Layer\n- Config file (~/.vulneraai/config.json)\n- Encrypted credentials\n- Cache files\n- Log files\n\n## Поддерживаемые команды\n\n### Authentication\n```bash\nvulneraai auth login --api-key <key>\nvulneraai auth logout\nvulneraai auth status\n```\n\n### Pentest Management\n```bash\nvulneraai pentest create --target example.com --type full\nvulneraai pentest list [--filter status=running]\nvulneraai pentest status <pentest_id>\nvulneraai pentest cancel <pentest_id>\n```\n\n### Results & Reports\n```bash\nvulneraai result list <pentest_id> [--filter severity=critical]\nvulneraai result export <pentest_id> --format pdf\nvulneraai report generate <pentest_id> --format html\n```\n\n### Webhooks\n```bash\nvulneraai webhook create --url https://example.com/hook\nvulneraai webhook list\nvulneraai webhook delete <webhook_id>\n```\n\n## Manager классы\n\n### PentestManager\n- create_pentest(): создание нового пентеста\n- list_pentests(): список всех пентестов\n- get_status(): получить статус пентеста\n- cancel_pentest(): отмена пентеста\n\n### ResultManager\n- get_results(): получить уязвимости\n- export_results(): экспорт в PDF/CSV/JSON\n- filter_results(): фильтрация локально\n\n### AuthManager\n- login(): аутентификация с API ключом\n- logout(): очистка credentials\n- verify_credentials(): проверка валидности\n\n### ConfigManager\n- get(): получить значение конфига\n- set(): установить значение\n- load(): загрузить из файла\n- save(): сохранить в файл\n\n### CacheManager\n- get(): получить значение из кэша\n- set(): сохранить в кэш с TTL\n- invalidate(): очистить кэш\n\n## CI/CD интеграция\n\n### GitHub Actions\n```yaml\nname: Security Scan\non: [push]\n\njobs:\n  scan:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - name: Run VulneraAI\n        env:\n          VULNERAAI_API_KEY: ${{ secrets.VULNERAAI_API_KEY }}\n        run: vulneraai pentest create --target ${{ secrets.TARGET }} --wait\n```\n\n### Jenkins Pipeline\n```groovy\npipeline {\n    stages {\n        stage('Security Scan') {\n            steps {\n                sh 'vulneraai pentest create --target ${TARGET_URL} --wait'\n            }\n        }\n    }\n}\n```\n\n### GitLab CI\n```yaml\nsecurity_scan:\n  stage: test\n  script:\n    - vulneraai pentest create --target $TARGET_URL --wait\n```\n\n## Error Handling\n\n- API errors: перехват HTTP ошибок\n- Retry logic: exponential backoff для временных ошибок\n- User feedback: понятные сообщения об ошибках\n- Logging: детальное логирование для отладки\n\n## Threading & Async\n\n- Monitor progress: background thread для polling\n- Non-blocking UI: async/await для длительных операций\n- Streaming results: WebSocket для real-time updates\n\n## Output Formatting\n\n- Table format: красиво отформатированные таблицы\n- JSON format: для парсинга скриптами\n- YAML format: для readable представления\n- Colorized output: цвета для разных типов информации"
    },
    {
      "id": "server-architecture",
      "title": "Архитектура сервера",
      "order": 103,
      "content": "# Архитектура VulneraAI Server\n\nОбзор backend'а VulneraAI с описанием основных компонентов, взаимодействия и обработки данных.\n\n## Backend компоненты\n\n### API Layer (FastAPI)\n- HTTP/HTTPS сервер\n- Async request handling\n- Route handlers\n- Middleware stack\n- OpenAPI documentation\n\n### Business Logic Layer\n- PentestService: управление жизненным циклом\n- VulnerabilityService: анализ уязвимостей\n- ReportService: генерирование отчётов\n- WebhookService: отправка уведомлений\n- AuthService: аутентификация\n- AnalyticsService: сбор метрик\n\n### Task Orchestration\n- TaskDispatcher: распределение задач\n- TaskScheduler: планирование пентестов\n- AgentManager: управление агентами\n- AgentHealthMonitor: мониторинг здоровья\n- LoadBalancer: балансировка нагрузки\n\n### Scanning Agents\n- Distributed scanning agents\n- Local network scanning\n- Cloud-based scanning\n- Health monitoring & автоматическое восстановление\n\n### Data Layer\n- MySQL/PostgreSQL: основная БД\n- Redis: кэширование\n- Elasticsearch: полнотекстовый поиск\n- InfluxDB: временные ряды (метрики)\n- S3/MinIO: хранилище отчётов\n\n## API Gateway\n\n### Middleware Stack\n1. TrustedHostMiddleware: проверка origin\n2. CORSMiddleware: управление CORS\n3. AuthenticationMiddleware: проверка JWT\n4. RateLimitMiddleware: ограничение частоты\n5. RequestLoggingMiddleware: логирование\n\n### Route Handlers\n```\nGET    /api/v1/pentests                 - список пентестов\nPOST   /api/v1/pentests                 - создать пентест\nGET    /api/v1/pentests/{id}            - детали пентеста\nPOST   /api/v1/pentests/{id}/cancel     - отмена\nGET    /api/v1/pentests/{id}/results    - результаты\nPOST   /api/v1/reports                  - генерировать отчёт\nPOST   /api/v1/webhooks                 - создать вебхук\nGET    /api/v1/webhooks                 - список вебхуков\n```\n\n## Business Logic Services\n\n### PentestService\n- create(): создание пентеста\n- list(): список с фильтрацией\n- get_status(): статус пентеста\n- cancel(): отмена пентеста\n- update_status(): обновление статуса\n\n### VulnerabilityService\n- process(): обработка уязвимости\n- calculate_cvss(): вычисление CVSS\n- classify(): классификация типа\n- correlate(): связывание с другими\n- search(): поиск в Elasticsearch\n\n### ReportService\n- generate(): генерирование отчёта\n- format_pdf(): форматирование PDF\n- format_html(): форматирование HTML\n- format_json(): форматирование JSON\n\n### WebhookService\n- create(): создание вебхука\n- send(): отправка с подписью\n- retry(): повторная отправка\n- validate_signature(): проверка HMAC\n\n## Task Orchestration\n\n### TaskDispatcher\n- select_agent(): выбор лучшего агента\n- dispatch(): отправка задачи\n- monitor(): мониторинг прогресса\n- handle_completion(): обработка завершения\n\n### TaskScheduler\n- schedule(): планирование пентеста\n- execute(): выполнение по расписанию\n- cancel(): отмена запланированного\n\n### AgentManager\n- register(): регистрация агента\n- health_check(): проверка здоровья\n- deregister(): удаление агента\n- get_available(): получить доступных\n\n## Database Schema\n\n### pentests таблица\n- id: PRIMARY KEY\n- user_id: FOREIGN KEY\n- target: VARCHAR\n- scan_type: ENUM (quick, standard, full)\n- status: ENUM (CREATED, QUEUED, RUNNING, PROCESSING, COMPLETED, FAILED)\n- progress: INT (0-100)\n- created_at, started_at, completed_at: TIMESTAMP\n- Индексы: user_id, status, created_at\n\n### vulnerabilities таблица\n- id: PRIMARY KEY\n- pentest_id: FOREIGN KEY\n- type: VARCHAR\n- title: VARCHAR\n- description: TEXT\n- severity: ENUM (CRITICAL, HIGH, MEDIUM, LOW, INFO)\n- cvss_score: DECIMAL(3,1)\n- affected_url: VARCHAR\n- Индексы: pentest_id, severity, type\n\n### users таблица\n- id: PRIMARY KEY\n- email: UNIQUE\n- password_hash: VARCHAR\n- role: ENUM (user, admin, analyst)\n- api_quota: INT\n\n### agents таблица\n- id: PRIMARY KEY\n- name, hostname, ip_address: VARCHAR\n- status: ENUM (HEALTHY, DEGRADED, OFFLINE)\n- current_tasks, max_tasks: INT\n- last_heartbeat: TIMESTAMP\n\n### webhooks таблица\n- id: PRIMARY KEY\n- user_id: FOREIGN KEY\n- url: VARCHAR\n- events: JSON\n- secret: VARCHAR\n- active: BOOLEAN\n\n## Жизненный цикл пентеста\n\n1. **CREATED**: Пользователь создаёт пентест\n   - Валидация параметров\n   - Создание записи в БД\n   - Публикация события\n\n2. **QUEUED**: Ожидание агента\n   - Задача в очереди\n   - Ожидание доступного агента\n\n3. **RUNNING**: Выполнение сканирования\n   - Агент сканирует цель\n   - Отправляет результаты в реальном времени\n   - Обновляет progress\n\n4. **PROCESSING**: Обработка результатов\n   - VulnerabilityService анализирует\n   - Вычисляет CVSS\n   - Связывает уязвимости\n\n5. **COMPLETED**: Завершение\n   - Генерирование отчёта\n   - Отправка вебхуков\n   - Пользователь получает уведомление\n\n6. **FAILED**: Ошибка\n   - Запись причины ошибки\n   - Уведомление пользователя\n   - Возможность повтора\n\n## Performance Optimizations\n\n### Database\n- Connection pooling (5-100 connections)\n- Query optimization (EXPLAIN ANALYZE)\n- Индексирование (B-tree, hash)\n- Partitioning для больших таблиц\n- Replication для read scaling\n\n### Caching\n- Redis для часто используемых данных\n- Cache invalidation on update\n- TTL для автоочистки\n- Cache warming на startup\n\n### API\n- Pagination (limit/offset или cursor)\n- Response compression (gzip)\n- Batch operations\n- Async processing (task queue)\n\n### Infrastructure\n- HTTP/2 с multiplexing\n- Keep-alive connections\n- Connection pooling\n- Resource limits (CPU, memory)"
    },
    {
      "id": "communication-protocols",
      "title": "Протоколы коммуникации",
      "order": 104,
      "content": "# Протоколы коммуникации в VulneraAI\n\nПолное описание всех протоколов и механизмов коммуникации между компонентами.\n\n## HTTP/HTTPS REST API\n\n**Primary protocol** для синхронной коммуникации.\n\n### Спецификация\n- Protocol: HTTP/1.1, HTTP/2\n- Encoding: UTF-8\n- Content-Type: application/json\n- Compression: gzip, deflate\n- Security: TLS 1.2+\n\n### Request Format\n```\nPOST /api/v1/pentests HTTP/1.1\nHost: api.vulneraai.com\nAuthorization: Bearer <jwt_token>\nContent-Type: application/json\n\n{\n  \"target\": \"example.com\",\n  \"scan_type\": \"full\",\n  \"options\": {...}\n}\n```\n\n### Response Format\n```\nHTTP/1.1 201 Created\nContent-Type: application/json\nX-RateLimit-Remaining: 999\n\n{\n  \"pentest_id\": \"abc123\",\n  \"status\": \"CREATED\"\n}\n```\n\n### Status Codes\n- 200 OK, 201 Created, 204 No Content\n- 400 Bad Request, 401 Unauthorized, 403 Forbidden\n- 404 Not Found, 429 Too Many Requests\n- 500 Internal Server Error, 503 Service Unavailable\n\n## WebSocket для real-time\n\n**Real-time communication** для live обновлений.\n\n### Подключение\n```\nws://api.vulneraai.com/ws/pentests/{pentest_id}\n```\n\n### Event Types\n```json\n{\n  \"type\": \"progress\",\n  \"progress\": 45,\n  \"message\": \"Scanning...\"\n}\n\n{\n  \"type\": \"vulnerability_found\",\n  \"vulnerability\": {...}\n}\n\n{\n  \"type\": \"status_changed\",\n  \"status\": \"COMPLETED\"\n}\n```\n\n## Message Queue (RabbitMQ/Kafka)\n\n**Asynchronous communication** для распределённой обработки.\n\n### Queue Topology\n- pentest_tasks: распределение задач\n- vulnerability_processing: анализ уязвимостей\n- webhook_delivery: отправка вебхуков\n- analytics_events: сбор метрик\n\n### Message Format\n```json\n{\n  \"event\": \"pentest.created\",\n  \"timestamp\": \"2024-12-13T10:30:00Z\",\n  \"data\": {\n    \"pentest_id\": \"abc123\",\n    \"target\": \"example.com\"\n  }\n}\n```\n\n## gRPC для микросервисов\n\n**High-performance** внутренняя коммуникация.\n\n### Преимущества\n- Binary serialization (Protocol Buffers)\n- HTTP/2 multiplexing\n- ~10x faster than REST JSON\n- Streaming support\n\n## Webhook для external систем\n\n**Push notifications** для external интеграций.\n\n### Signature\n```\nPOST https://customer.example.com/webhooks\nX-VulneraAI-Signature: sha256=<hmac_hash>\nContent-Type: application/json\n\n{\"event\": \"vulnerability.found\", ...}\n```\n\n### Retry Strategy\n```\nAttempt 1: Immediate\nAttempt 2: After 1 minute\nAttempt 3: After 5 minutes\nAttempt 4: After 30 minutes\nAttempt 5: After 2 hours\nMax retries: 5\n```\n\n## Agent-Server коммуникация\n\n### Task Assignment\n```\nAgent -> Server:\nGET /api/agents/{agent_id}/tasks\n\nServer -> Agent:\n{\n  \"task_id\": \"task-123\",\n  \"target\": \"example.com\",\n  \"scan_type\": \"full\"\n}\n```\n\n### Result Submission\n```\nAgent -> Server:\nPOST /api/tasks/{task_id}/results\nContent-Type: application/json\n\n{\n  \"vulnerabilities\": [...],\n  \"scan_duration\": 3600\n}\n```\n\n### Heartbeat (Keep-alive)\n```\nAgent -> Server (every 30 seconds):\nPOST /api/agents/{agent_id}/heartbeat\n\n{\"status\": \"healthy\", \"current_tasks\": 3}\n```\n\n## TLS/SSL Security\n\n- Certificate management (Let's Encrypt)\n- Cipher suites (TLS 1.3 preferred)\n- mTLS для микросервисов\n- OCSP stapling\n\n## Rate Limiting\n\n### Headers\n```\nX-RateLimit-Limit: 1000\nX-RateLimit-Remaining: 999\nX-RateLimit-Reset: 1702472400\n```\n\n### Strategies\n- Per-user limit (1000 req/hour)\n- Per-endpoint limit (100 req/minute)\n- Per-IP limit для анонимных\n- Sliding window algorithm\n\n## Connection Pooling\n\n### HTTP Client\n```\nMax connections: 100\nMax per host: 10\nConnection timeout: 30s\n```\n\n### Database\n```\nMin pool size: 5\nMax pool size: 100\nConnection timeout: 10s\n```\n\n### Message Queue\n```\nConnection retries: 3\nRetry delay: 2s\nChannel max: 2048\n```\n\n## Load Balancing\n\n### DNS Round Robin\n- Multiple A records для одного domain\n- Client получает случайный IP\n\n### L4 Load Balancer\n- TCP level routing\n- Round-robin, least connections, source IP hash\n\n### L7 Load Balancer (NGINX/HAProxy)\n- HTTP level routing\n- Path-based, host-based, header-based\n- Weighted round-robin\n- Health checks"
    }
  ]
}